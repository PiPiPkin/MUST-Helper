<view class="container"><view class="header"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn" bindtap="__e"><text>←</text></view><text class="header-title">{{canteen.name||'店铺列表'}}</text></view><view class="content"><view class="search-box"><input type="text" placeholder="搜索店铺..." data-event-opts="{{[['input',[['__set_model',['','searchText','$event',[]]]]]]}}" value="{{searchText}}" bindinput="__e"/><text class="search-icon">🔍</text></view><view class="shop-list"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['navigateToShopDetail',['$0'],[[['filteredShops','',index,'id']]]]]]]}}" class="shop-item" bindtap="__e"><image class="shop-image" src="{{item.$orig.image}}" mode="aspectFill"></image><view class="shop-info"><view class="shop-header"><text class="shop-name">{{item.$orig.name}}</text><view class="rating"><text class="rating-score">{{item.g0}}</text><view class="stars"><block wx:for="{{5}}" wx:for-item="n" wx:for-index="__i0__" wx:key="*this"><text class="{{['star',(n<=item.g1)?'filled':'']}}">★</text></block></view></view></view><view class="shop-meta"><view class="rating-info"><text class="price">{{"人均 ¥"+item.$orig.averagePrice}}</text><text class="monthly-sales">{{"月售"+item.$orig.monthlySales+"单"}}</text></view><view class="rating-details"><view class="rating-item"><text class="rating-label">口味</text><text class="rating-value">{{item.$orig.tasteRating?item.g2:'0.0'}}</text></view><view class="rating-item"><text class="rating-label">价格</text><text class="rating-value">{{item.$orig.priceRating?item.g3:'0.0'}}</text></view><view class="rating-item"><text class="rating-label">卫生</text><text class="rating-value">{{item.$orig.hygieneRating?item.g4:'0.0'}}</text></view></view></view><view class="tags"><block wx:for="{{item.$orig.tags}}" wx:for-item="tag" wx:for-index="tagIndex" wx:key="tagIndex"><text class="tag">{{tag}}</text></block></view></view></view></block></view></view></view>