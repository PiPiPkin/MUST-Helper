<view class="container"><view class="top-header"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn" bindtap="__e"><text>←</text></view><text class="page-title">{{houseInfo.name||'房源详情'}}</text><view class="header-icons"><text class="icon">•••</text><text class="icon">⦿</text></view></view><view class="content"><block wx:if="{{loading}}"><view class="loading">加载中...</view></block><block wx:else><block wx:if="{{!houseInfo.id}}"><view class="empty">暂无房源数据</view></block><block wx:else><view class="house-detail"><view class="house-header"><text class="house-name">{{houseInfo.name}}</text><view class="house-rating"><text class="rating-score">{{$root.g0}}</text><view class="stars"><block wx:for="{{$root.l0}}" wx:for-item="n" wx:for-index="__i0__" wx:key="$orig"><text class="{{['star',(n.$orig<=n.g1)?'filled':'']}}">★</text></block></view><text class="review-count">{{houseInfo.reviewCount+"条评价"}}</text></view></view><view class="house-info"><view class="info-item"><text class="info-label">位置</text><text class="info-value">{{houseInfo.info}}</text></view><view class="info-item"><text class="info-label">价格</text><text class="info-value">{{"¥"+(houseInfo.price||'暂无价格')+"/月"}}</text></view><view class="info-item"><text class="info-label">面积</text><text class="info-value">{{(houseInfo.area||'暂无数据')+"㎡"}}</text></view><view class="info-item"><text class="info-label">房型</text><text class="info-value">{{houseInfo.type||'暂无数据'}}</text></view></view><view class="rating-detail-box"><view class="rating-overview"><text class="rating-big">{{$root.g2}}</text><view class="rating-stars-big"><block wx:for="{{$root.l1}}" wx:for-item="n" wx:for-index="__i1__" wx:key="$orig"><text class="{{['star',(n.$orig<=n.g3)?'filled':'']}}">★</text></block></view><text class="review-count-big">{{houseInfo.reviewCount+"人评价"}}</text></view><view class="rating-dimensions"><view class="dimension-item"><text class="dimension-name">租金与性价比</text><view class="dimension-stars"><block wx:for="{{$root.l2}}" wx:for-item="n" wx:for-index="__i2__" wx:key="$orig"><text class="{{['star',(n.$orig<=n.g4)?'filled':'']}}">★</text></block></view><text class="dimension-score">{{$root.g5}}</text></view><view class="dimension-item"><text class="dimension-name">地理位置与便利性</text><view class="dimension-stars"><block wx:for="{{$root.l3}}" wx:for-item="n" wx:for-index="__i3__" wx:key="$orig"><text class="{{['star',(n.$orig<=n.g6)?'filled':'']}}">★</text></block></view><text class="dimension-score">{{$root.g7}}</text></view><view class="dimension-item"><text class="dimension-name">安全与舒适度</text><view class="dimension-stars"><block wx:for="{{$root.l4}}" wx:for-item="n" wx:for-index="__i4__" wx:key="$orig"><text class="{{['star',(n.$orig<=n.g8)?'filled':'']}}">★</text></block></view><text class="dimension-score">{{$root.g9}}</text></view></view><button data-event-opts="{{[['tap',[['showRateModal',['$event']]]]]}}" class="rate-btn" bindtap="__e">我要评分</button></view><view class="reviews-section"><view class="section-header"><text class="section-title">{{"评价 ("+(houseInfo.reviews?$root.g10:0)+")"}}</text></view><block wx:if="{{$root.g11}}"><view class="no-reviews">暂无评价，快来发表第一条评价吧！</view></block><block wx:else><view class="review-list"><block wx:for="{{$root.l5}}" wx:for-item="review" wx:for-index="index" wx:key="index"><view class="review-item"><view class="review-header"><text class="reviewer-name">{{review.$orig.username}}</text><view class="review-stars"><block wx:for="{{5}}" wx:for-item="n" wx:for-index="__i5__" wx:key="*this"><text class="{{['star',(n<=review.g12)?'filled':'']}}">★</text></block><text class="review-rating">{{review.g13}}</text></view><text class="review-date">{{review.$orig.date}}</text></view><text class="review-content">{{review.$orig.content}}</text><view class="review-likes"><text class="like-icon">👍</text><text class="like-count">{{review.$orig.likes||0}}</text></view></view></block></view></block></view><view class="house-description"><text class="section-title">房源描述</text><text class="description-text">{{houseInfo.description||'暂无描述信息'}}</text></view><view class="contact-section"><button data-event-opts="{{[['tap',[['contactOwner',['$event']]]]]}}" class="contact-btn" bindtap="__e">联系房东</button></view></view></block></block></view></view>