<view class="container"><view class="header" style="{{'padding-top:'+(statusBarHeight+'px')+';'}}"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn" bindtap="__e"><text>←</text></view><text class="header-title">{{areaInfo.name+"房源列表"}}</text></view><view class="search-box"><input type="text" placeholder="搜索房源..." data-event-opts="{{[['input',[['__set_model',['','searchText','$event',[]]]]]]}}" value="{{searchText}}" bindinput="__e"/><text class="search-icon">🔍</text></view><block wx:if="{{!loading}}"><view class="area-info-card"><view class="area-info-title">{{areaInfo.name+"概况"}}</view><view class="area-info-stats"><view class="area-stat"><text class="stat-value">{{areaInfo.count}}</text><text class="stat-label">房源数量</text></view><view class="area-stat"><text class="stat-value">{{areaInfo.reviews}}</text><text class="stat-label">评价数量</text></view><view class="area-stat"><text class="stat-value">{{$root.m0}}</text><text class="stat-label">平均评分</text></view></view><block wx:if="{{areaInfo.description}}"><view class="area-info-desc">{{''+areaInfo.description+''}}</view></block></view></block><block wx:if="{{$root.g0}}"><view class="filter-bar"><view data-event-opts="{{[['tap',[['setFilter',['default']]]]]}}" class="{{['filter-item',(activeFilter==='default')?'active':'']}}" bindtap="__e">默认排序</view><view data-event-opts="{{[['tap',[['setFilter',['rating']]]]]}}" class="{{['filter-item',(activeFilter==='rating')?'active':'']}}" bindtap="__e">评分最高</view><view data-event-opts="{{[['tap',[['setFilter',['reviews']]]]]}}" class="{{['filter-item',(activeFilter==='reviews')?'active':'']}}" bindtap="__e">评价最多</view></view></block><view class="housing-list"><block wx:if="{{loading}}"><view class="loading">加载中...</view></block><block wx:else><block wx:if="{{$root.g1===0}}"><view class="empty">暂无房源数据</view></block><block wx:else><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="housing-card" hover-class="card-hover" data-event-opts="{{[['tap',[['goToHouseDetail',['$0'],[[['filteredHouses','',index,'id']]]]]]]}}" bindtap="__e"><view class="housing-card-header"><text class="housing-name">{{item.$orig.name}}</text><text class="housing-tag">{{item.$orig.type}}</text></view><view class="housing-card-body"><view class="housing-info"><text class="info-area">{{item.$orig.area+"㎡"}}</text><text class="info-divider">|</text><text class="info-text">{{item.$orig.info||'暂无详细信息'}}</text></view><view class="housing-rating"><view class="rating-stars"><block wx:for="{{5}}" wx:for-item="n" wx:for-index="__i0__" wx:key="*this"><text class="{{['star',n<=item.g2?'active':'']}}">★</text></block></view><text class="rating-value">{{item.g3}}</text><text class="review-count">{{"("+(item.$orig.reviewCount||0)+"条评价)"}}</text></view></view><view class="housing-card-footer"><text class="price-text">{{"¥"+(item.$orig.price||'暂无')+" / 月"}}</text><view class="action-btn">查看详情</view></view></view></block></block></block></view></view>